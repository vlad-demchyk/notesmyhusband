# Приклади GraphQL запитів для Network Notebook API

# ============================================
# АУТЕНТИФІКАЦІЯ
# ============================================

# Реєстрація нового користувача
mutation RegisterUser {
  register(login: "user1", password: "password123") {
    token
    user {
      id
      login
      created_at
    }
  }
}

# Вхід в систему
mutation LoginUser {
  login(login: "user1", password: "password123") {
    token
    user {
      id
      login
    }
  }
}

# ============================================
# КОРИСТУВАЧІ
# ============================================

# Отримати поточного користувача
# Заголовок: Authorization: Bearer YOUR_TOKEN
query GetMe {
  me {
    id
    login
    created_at
  }
}

# Отримати список всіх користувачів
query GetAllUsers {
  users {
    id
    login
    created_at
  }
}

# ============================================
# НОТАТКИ
# ============================================

# Створити нотатку з отримувачами
mutation CreateNote {
  createNote(
    content: "Привіт! Це моя перша нотатка."
    recipient_ids: [2, 3]
  ) {
    id
    content
    author {
      id
      login
    }
    recipients {
      id
      login
    }
    created_at
    updated_at
  }
}

# Створити нотатку без отримувачів (тільки для себе)
mutation CreatePersonalNote {
  createNote(
    content: "Це особиста нотатка"
    recipient_ids: []
  ) {
    id
    content
    author {
      login
    }
    created_at
  }
}

# Отримати свої створені нотатки
query GetMyNotes {
  myNotes {
    id
    content
    author {
      login
    }
    recipients {
      id
      login
    }
    created_at
    updated_at
  }
}

# Отримати нотатки, які прийшли мені
query GetReceivedNotes {
  receivedNotes {
    id
    content
    author {
      id
      login
    }
    created_at
  }
}

# Отримати конкретну нотатку за ID
query GetNote {
  note(id: 1) {
    id
    content
    author {
      id
      login
    }
    recipients {
      id
      login
    }
    created_at
    updated_at
  }
}

# Оновити нотатку (тільки автор може)
mutation UpdateNote {
  updateNote(
    id: 1
    content: "Оновлений контент нотатки"
  ) {
    id
    content
    updated_at
  }
}

# Видалити нотатку (тільки автор може)
mutation DeleteNote {
  deleteNote(id: 1)
}

# ============================================
# ЗАПІНЕНІ КОРИСТУВАЧІ
# ============================================

# Отримати список запінених користувачів
query GetPinnedUsers {
  pinnedUsers {
    id
    login
    created_at
  }
}

# Запінити користувача
mutation PinUser {
  pinUser(user_id: 2)
}

# Відпінити користувача
mutation UnpinUser {
  unpinUser(user_id: 2)
}

# ============================================
# ЧОРНИЙ СПИСОК
# ============================================

# Отримати список заблокованих користувачів
query GetBlockedUsers {
  blockedUsers {
    id
    login
    created_at
  }
}

# Заблокувати користувача
mutation BlockUser {
  blockUser(user_id: 3)
}

# Розблокувати користувача
mutation UnblockUser {
  unblockUser(user_id: 3)
}

# ============================================
# СКЛАДНІ ЗАПИТИ
# ============================================

# Комплексний запит: отримати себе, свої нотатки та отримані нотатки
query GetDashboard {
  me {
    id
    login
  }
  myNotes {
    id
    content
    recipients {
      login
    }
    created_at
  }
  receivedNotes {
    id
    content
    author {
      login
    }
    created_at
  }
  pinnedUsers {
    id
    login
  }
  blockedUsers {
    id
    login
  }
}
